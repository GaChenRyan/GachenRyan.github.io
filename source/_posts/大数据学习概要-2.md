---
title: 大数据学习概要(2)
date: 2018-07-14 11:24:34
tags:
    - 大数据
    - Hadoop
    - HDFS
---

## hadoop的几种安装模式：
1. 单机模式
2. 伪分布模式
3. 集群模式

## HDFS
HDFS是Hadoop项目的核心子项目，被设计在商品硬件上运行  
设计的前提和目标：  
1. 硬件容错：故障检测和自动恢复
2. 流式数据访问
3. 超大规模数据集
4. 简单一致性模型
5. 移动计算比移动数据便宜
6. 跨异构硬件和软件平台的可移植性  

<!-- more -->

HDFS特性和优点
1. 横向线性扩展
2. 自动冗余
3. 高容错性
4. 运行在廉价的机器上
5. 适合批处理

HDFS缺点
1. 不适合低延迟数据访问
2. 无法存储大量小文件
3. 不支持用户写入及任意修改文件

NameNode:  
Hadoop V2：一个NameNode   
Hadoop V2：两个NameNode  
Hadoop V3：多个NameNode  
* 存储元数据（Metadata）：镜像文件（FsImage）及修改日志（EditLog）
* 元数据保存在内存中
* 保存文件，block，DataNode之间的映射关系

DataNode
* 存储文件内容
* 文件内容保存在磁盘
* 维护了block id到DataNode本地文件的映射关系

DataNode启动后向NameNode注册，通过周期性(1小时)的向NameNode上报所有的块信息，每3秒发送心跳信息；超过10min没有收到心跳信息，宕机.  

Secondary NameNode作用  
![SecondaryNameNode](/img/SecondaryNameNode1.png)


Safe Mode：只读